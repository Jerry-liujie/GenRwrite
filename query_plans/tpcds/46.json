[{"Plan": {"Node Type": "Limit", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 77789.64, "Total Cost": 77789.89, "Plan Rows": 100, "Plan Width": 138, "Actual Startup Time": 276.536, "Actual Total Time": 276.59, "Actual Rows": 100, "Actual Loops": 1, "Plans": [{"Node Type": "Sort", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 77789.64, "Total Cost": 77796.0, "Plan Rows": 2545, "Plan Width": 138, "Actual Startup Time": 276.532, "Actual Total Time": 276.581, "Actual Rows": 100, "Actual Loops": 1, "Sort Key": ["customer.c_last_name", "customer.c_first_name", "current_addr.ca_city", "dn.bought_city", "dn.ss_ticket_number"], "Sort Method": "top-N heapsort", "Sort Space Used": 49, "Sort Space Type": "Memory", "Plans": [{"Node Type": "Nested Loop", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Join Type": "Inner", "Startup Cost": 71083.4, "Total Cost": 77692.37, "Plan Rows": 2545, "Plan Width": 138, "Actual Startup Time": 235.234, "Actual Total Time": 269.427, "Actual Rows": 9808, "Actual Loops": 1, "Inner Unique": true, "Join Filter": "((current_addr.ca_city)::text <> (dn.bought_city)::text)", "Rows Removed by Join Filter": 662, "Plans": [{"Node Type": "Merge Join", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Join Type": "Inner", "Startup Cost": 71083.11, "Total Cost": 76751.68, "Plan Rows": 2549, "Plan Width": 133, "Actual Startup Time": 235.218, "Actual Total Time": 254.399, "Actual Rows": 10470, "Actual Loops": 1, "Inner Unique": false, "Merge Cond": "(customer.c_customer_sk = dn.ss_customer_sk)", "Plans": [{"Node Type": "Index Scan", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Scan Direction": "Forward", "Index Name": "customer_pkey", "Relation Name": "customer", "Alias": "customer", "Startup Cost": 0.29, "Total Cost": 5380.63, "Plan Rows": 100000, "Plan Width": 60, "Actual Startup Time": 0.023, "Actual Total Time": 13.925, "Actual Rows": 100000, "Actual Loops": 1}, {"Node Type": "Sort", "Parent Relationship": "Inner", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 71082.82, "Total Cost": 71089.19, "Plan Rows": 2549, "Plan Width": 81, "Actual Startup Time": 235.182, "Actual Total Time": 235.865, "Actual Rows": 10471, "Actual Loops": 1, "Sort Key": ["dn.ss_customer_sk"], "Sort Method": "quicksort", "Sort Space Used": 1228, "Sort Space Type": "Memory", "Plans": [{"Node Type": "Subquery Scan", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Alias": "dn", "Startup Cost": 70552.72, "Total Cost": 70938.6, "Plan Rows": 2549, "Plan Width": 81, "Actual Startup Time": 217.392, "Actual Total Time": 233.311, "Actual Rows": 10838, "Actual Loops": 1, "Plans": [{"Node Type": "Aggregate", "Strategy": "Sorted", "Partial Mode": "Finalize", "Parent Relationship": "Subquery", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 70552.72, "Total Cost": 70913.11, "Plan Rows": 2549, "Plan Width": 85, "Actual Startup Time": 217.392, "Actual Total Time": 232.871, "Actual Rows": 10838, "Actual Loops": 1, "Group Key": ["store_sales.ss_ticket_number", "store_sales.ss_customer_sk", "store_sales.ss_addr_sk", "customer_address.ca_city"], "Plans": [{"Node Type": "Gather Merge", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 70552.72, "Total Cost": 70832.39, "Plan Rows": 2124, "Plan Width": 85, "Actual Startup Time": 217.387, "Actual Total Time": 225.794, "Actual Rows": 10930, "Actual Loops": 1, "Workers Planned": 2, "Workers Launched": 2, "Plans": [{"Node Type": "Aggregate", "Strategy": "Sorted", "Partial Mode": "Partial", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 69552.69, "Total Cost": 69587.21, "Plan Rows": 1062, "Plan Width": 85, "Actual Startup Time": 215.277, "Actual Total Time": 222.516, "Actual Rows": 3643, "Actual Loops": 3, "Group Key": ["store_sales.ss_ticket_number", "store_sales.ss_customer_sk", "store_sales.ss_addr_sk", "customer_address.ca_city"], "Workers": [], "Plans": [{"Node Type": "Sort", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 69552.69, "Total Cost": 69555.35, "Plan Rows": 1062, "Plan Width": 30, "Actual Startup Time": 215.257, "Actual Total Time": 216.059, "Actual Rows": 38306, "Actual Loops": 3, "Sort Key": ["store_sales.ss_ticket_number", "store_sales.ss_customer_sk", "store_sales.ss_addr_sk", "customer_address.ca_city"], "Sort Method": "quicksort", "Sort Space Used": 3975, "Sort Space Type": "Memory", "Workers": [{"Worker Number": 0, "Sort Method": "quicksort", "Sort Space Used": 3912, "Sort Space Type": "Memory"}, {"Worker Number": 1, "Sort Method": "quicksort", "Sort Space Used": 3927, "Sort Space Type": "Memory"}], "Plans": [{"Node Type": "Nested Loop", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Join Type": "Inner", "Startup Cost": 2290.67, "Total Cost": 69499.31, "Plan Rows": 1062, "Plan Width": 30, "Actual Startup Time": 4.603, "Actual Total Time": 202.177, "Actual Rows": 38306, "Actual Loops": 3, "Inner Unique": true, "Workers": [], "Plans": [{"Node Type": "Hash Join", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Join Type": "Inner", "Startup Cost": 2290.38, "Total Cost": 69155.48, "Plan Rows": 1112, "Plan Width": 21, "Actual Startup Time": 4.553, "Actual Total Time": 167.872, "Actual Rows": 38552, "Actual Loops": 3, "Inner Unique": true, "Hash Cond": "(store_sales.ss_store_sk = store.s_store_sk)", "Workers": [], "Plans": [{"Node Type": "Hash Join", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Join Type": "Inner", "Startup Cost": 2289.04, "Total Cost": 69150.05, "Plan Rows": 1163, "Plan Width": 25, "Actual Startup Time": 4.503, "Actual Total Time": 164.676, "Actual Rows": 39024, "Actual Loops": 3, "Inner Unique": true, "Hash Cond": "(store_sales.ss_hdemo_sk = household_demographics.hd_demo_sk)", "Workers": [], "Plans": [{"Node Type": "Hash Join", "Parent Relationship": "Outer", "Parallel Aware": true, "Async Capable": false, "Join Type": "Inner", "Startup Cost": 2105.54, "Total Cost": 68953.76, "Plan Rows": 4867, "Plan Width": 29, "Actual Startup Time": 3.842, "Actual Total Time": 153.173, "Actual Rows": 159081, "Actual Loops": 3, "Inner Unique": true, "Hash Cond": "(store_sales.ss_sold_date_sk = date_dim.d_date_sk)", "Workers": [], "Plans": [{"Node Type": "Seq Scan", "Parent Relationship": "Outer", "Parallel Aware": true, "Async Capable": false, "Relation Name": "store_sales", "Alias": "store_sales", "Startup Cost": 0.0, "Total Cost": 63697.62, "Plan Rows": 1200162, "Plan Width": 33, "Actual Startup Time": 0.018, "Actual Total Time": 71.378, "Actual Rows": 960135, "Actual Loops": 3, "Workers": []}, {"Node Type": "Hash", "Parent Relationship": "Inner", "Parallel Aware": true, "Async Capable": false, "Startup Cost": 2103.26, "Total Cost": 2103.26, "Plan Rows": 182, "Plan Width": 4, "Actual Startup Time": 3.788, "Actual Total Time": 3.789, "Actual Rows": 105, "Actual Loops": 3, "Hash Buckets": 1024, "Original Hash Buckets": 1024, "Hash Batches": 1, "Original Hash Batches": 1, "Peak Memory Usage": 104, "Workers": [], "Plans": [{"Node Type": "Seq Scan", "Parent Relationship": "Outer", "Parallel Aware": true, "Async Capable": false, "Relation Name": "date_dim", "Alias": "date_dim", "Startup Cost": 0.0, "Total Cost": 2103.26, "Plan Rows": 182, "Plan Width": 4, "Actual Startup Time": 1.679, "Actual Total Time": 3.736, "Actual Rows": 105, "Actual Loops": 3, "Filter": "((d_dow = ANY ('{6,0}'::integer[])) AND (d_year = ANY ('{2000,2001,2002}'::integer[])))", "Rows Removed by Filter": 24245, "Workers": []}]}]}, {"Node Type": "Hash", "Parent Relationship": "Inner", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 161.0, "Total Cost": 161.0, "Plan Rows": 1800, "Plan Width": 4, "Actual Startup Time": 0.636, "Actual Total Time": 0.636, "Actual Rows": 1800, "Actual Loops": 3, "Hash Buckets": 2048, "Original Hash Buckets": 2048, "Hash Batches": 1, "Original Hash Batches": 1, "Peak Memory Usage": 80, "Workers": [], "Plans": [{"Node Type": "Seq Scan", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Relation Name": "household_demographics", "Alias": "household_demographics", "Startup Cost": 0.0, "Total Cost": 161.0, "Plan Rows": 1800, "Plan Width": 4, "Actual Startup Time": 0.017, "Actual Total Time": 0.541, "Actual Rows": 1800, "Actual Loops": 3, "Filter": "((hd_dep_count = 8) OR (hd_vehicle_count = 0))", "Rows Removed by Filter": 5400, "Workers": []}]}]}, {"Node Type": "Hash", "Parent Relationship": "Inner", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 1.2, "Total Cost": 1.2, "Plan Rows": 12, "Plan Width": 4, "Actual Startup Time": 0.039, "Actual Total Time": 0.039, "Actual Rows": 12, "Actual Loops": 3, "Hash Buckets": 1024, "Original Hash Buckets": 1024, "Hash Batches": 1, "Original Hash Batches": 1, "Peak Memory Usage": 9, "Workers": [], "Plans": [{"Node Type": "Seq Scan", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Relation Name": "store", "Alias": "store", "Startup Cost": 0.0, "Total Cost": 1.2, "Plan Rows": 12, "Plan Width": 4, "Actual Startup Time": 0.027, "Actual Total Time": 0.032, "Actual Rows": 12, "Actual Loops": 3, "Filter": "((s_city)::text = ANY ('{Midway,Fairview,Fairview,Midway,Fairview}'::text[]))", "Rows Removed by Filter": 0, "Workers": []}]}]}, {"Node Type": "Index Scan", "Parent Relationship": "Inner", "Parallel Aware": false, "Async Capable": false, "Scan Direction": "Forward", "Index Name": "customer_address_pkey", "Relation Name": "customer_address", "Alias": "customer_address", "Startup Cost": 0.29, "Total Cost": 0.31, "Plan Rows": 1, "Plan Width": 13, "Actual Startup Time": 0.001, "Actual Total Time": 0.001, "Actual Rows": 1, "Actual Loops": 115656, "Index Cond": "(ca_address_sk = store_sales.ss_addr_sk)", "Rows Removed by Index Recheck": 0, "Workers": []}]}]}]}]}]}]}]}]}, {"Node Type": "Index Scan", "Parent Relationship": "Inner", "Parallel Aware": false, "Async Capable": false, "Scan Direction": "Forward", "Index Name": "customer_address_pkey", "Relation Name": "customer_address", "Alias": "current_addr", "Startup Cost": 0.29, "Total Cost": 0.36, "Plan Rows": 1, "Plan Width": 13, "Actual Startup Time": 0.001, "Actual Total Time": 0.001, "Actual Rows": 1, "Actual Loops": 10470, "Index Cond": "(ca_address_sk = customer.c_current_addr_sk)", "Rows Removed by Index Recheck": 0}]}]}]}, "Planning Time": 0.469, "Triggers": [], "Execution Time": 277.098}]